const _0x54f0ce=_0x1684;(function(_0x4aa399,_0x56146a){const _0x4328ab=_0x1684,_0x512703=_0x4aa399();while(!![]){try{const _0x579154=parseInt(_0x4328ab(0x15f))/0x1+-parseInt(_0x4328ab(0x162))/0x2+-parseInt(_0x4328ab(0x197))/0x3+parseInt(_0x4328ab(0x17b))/0x4*(parseInt(_0x4328ab(0x194))/0x5)+-parseInt(_0x4328ab(0x16c))/0x6+-parseInt(_0x4328ab(0x180))/0x7+-parseInt(_0x4328ab(0x183))/0x8*(-parseInt(_0x4328ab(0x187))/0x9);if(_0x579154===_0x56146a)break;else _0x512703['push'](_0x512703['shift']());}catch(_0x4753bf){_0x512703['push'](_0x512703['shift']());}}}(_0x1bc0,0x479f7));import{QuickDB}from'quick.db';import{MongoDriver}from'quickmongo';import _0x59bdb8 from'moment-timezone';function _0x1684(_0x4d2351,_0xe1ca13){const _0x1bc040=_0x1bc0();return _0x1684=function(_0x1684bd,_0x52adeb){_0x1684bd=_0x1684bd-0x15f;let _0x3bb82f=_0x1bc040[_0x1684bd];return _0x3bb82f;},_0x1684(_0x4d2351,_0xe1ca13);}class Database{constructor(_0x14724d){const _0x48b485=_0x1684;this['Client']=_0x14724d,this['dbName']=process['env'][_0x48b485(0x192)],this[_0x48b485(0x177)]='Eclipse',this[_0x48b485(0x18f)]=process[_0x48b485(0x190)]['MONGO']||_0x48b485(0x160)+this[_0x48b485(0x177)]+':'+this[_0x48b485(0x177)]+_0x48b485(0x189)+this[_0x48b485(0x188)]+_0x48b485(0x196),this['client']=new MongoDriver(this[_0x48b485(0x18f)]);}[_0x54f0ce(0x18a)]=()=>{return new Promise(_0x3b3a83=>{const _0xe2d610=_0x1684;this[_0xe2d610(0x198)]['connect']()[_0xe2d610(0x181)](()=>{const _0xebd2b7=_0xe2d610;this['Client']['log'](_0xebd2b7(0x166)),this['db']=new QuickDB({'driver':this[_0xebd2b7(0x198)]}),this[_0xebd2b7(0x169)]=this['db']['table'](_0xebd2b7(0x167)),this['group']=this['db'][_0xebd2b7(0x17f)](_0xebd2b7(0x163)),this[_0xebd2b7(0x18b)]=this['db'][_0xebd2b7(0x17f)](_0xebd2b7(0x18d)),this[_0xebd2b7(0x161)]=this['db'][_0xebd2b7(0x17f)](_0xebd2b7(0x17d)),this[_0xebd2b7(0x19a)]=this['db'][_0xebd2b7(0x17f)]('sessions'),_0x3b3a83({'connected':!![]});})[_0xe2d610(0x184)](_0x5c051=>{const _0x50017f=_0xe2d610;console[_0x50017f(0x172)](_0x5c051),_0x3b3a83({'connected':![]});});});};async[_0x54f0ce(0x17c)](_0x56b06f){const _0x4bbc3c=_0x54f0ce;let _0x4fc87c=await this[_0x4bbc3c(0x169)][_0x4bbc3c(0x16e)](_0x56b06f)||await this[_0x4bbc3c(0x171)](_0x56b06f);return _0x4fc87c;}async[_0x54f0ce(0x171)](_0xcb1f48){const _0x11d73e=_0x54f0ce,_0x1087ea={'id':_0xcb1f48,'name':'','mod':![],'statusview':![],'rejectcall':![],'afk':{'custom':![],'reason':'','time':new Date()},'ban':{'banned':![],'bannedBy':'','bannedIn':'','time':'','reason':''}};return await this[_0x11d73e(0x169)][_0x11d73e(0x17a)](_0xcb1f48,_0x1087ea),_0x1087ea;}async[_0x54f0ce(0x186)](_0x48e61b){const _0x573268=_0x54f0ce;let _0x1146b8=await this[_0x573268(0x170)][_0x573268(0x16e)](_0x48e61b)||this[_0x573268(0x179)](_0x48e61b);return _0x1146b8;}async[_0x54f0ce(0x179)](_0x5629bb){const _0x309575=_0x54f0ce;if(_0x5629bb===_0x309575(0x18e))return this[_0x309575(0x195)]['log'](_0x309575(0x19c),!![]);const _0x4bfe4a={'id':_0x5629bb,'name':'','chatbot':![],'antilink':![],'antibot':![],'antiadmin':![],'antidelete':![],'welcome':![],'goodbye':![],'Greetings':{'custom':![],'message':''},'Farewells':{'custom':![],'message':''},'bot':_0x309575(0x16a)};return await this[_0x309575(0x170)]['set'](_0x5629bb,_0x4bfe4a),_0x4bfe4a;}async['updateGroup'](_0x5707e3,_0x1c4de4,_0x534ebc){const _0x2c6d74=_0x54f0ce,_0x3dc671=await this[_0x2c6d74(0x186)](_0x5707e3);_0x3dc671[_0x1c4de4]=_0x534ebc,await this[_0x2c6d74(0x170)]['set'](_0x5707e3,_0x3dc671);}async['getChat'](_0x591c3f){const _0x5620e0=_0x54f0ce;let _0x3e2713=await this[_0x5620e0(0x18b)][_0x5620e0(0x16e)](_0x591c3f)||this[_0x5620e0(0x16d)](_0x591c3f);return _0x3e2713;}async[_0x54f0ce(0x16d)](_0x317368){const _0x44faa3=_0x54f0ce,_0x5e10e3={'chat':_0x317368,'state':![]};return await this[_0x44faa3(0x18b)][_0x44faa3(0x17a)](_0x317368,_0x5e10e3),_0x5e10e3;}async[_0x54f0ce(0x193)](_0x4d2450,_0x47de6a){const _0x39a6fe=_0x54f0ce,_0x309103=await this[_0x39a6fe(0x16f)](_0x4d2450);_0x309103[_0x39a6fe(0x19b)]=_0x47de6a,await this[_0x39a6fe(0x18b)]['set'](_0x4d2450,_0x309103);}async[_0x54f0ce(0x178)](_0x28b677,_0x149d3f,_0x31b897,_0xfd085c){const _0x3497f4=_0x54f0ce,_0x7f7dea=await this[_0x3497f4(0x17c)](_0x28b677),_0x1e2ad2=_0x59bdb8['tz']('Etc/GMT')[_0x3497f4(0x174)](_0x3497f4(0x18c));_0x7f7dea[_0x3497f4(0x168)]={'banned':!![],'bannedBy':_0x149d3f,'bannedIn':_0x31b897,'time':_0x1e2ad2,'reason':_0xfd085c},await this[_0x3497f4(0x169)][_0x3497f4(0x17a)](_0x28b677,_0x7f7dea);}async[_0x54f0ce(0x185)](_0x54ea2e){const _0x2102f8=_0x54f0ce,_0x4ddfba=await this['fetchUser'](_0x54ea2e);_0x4ddfba[_0x2102f8(0x168)]={'banned':![],'bannedBy':'','bannedIn':'','time':'','reason':''},await this['user'][_0x2102f8(0x17a)](_0x54ea2e,_0x4ddfba);}async[_0x54f0ce(0x191)](_0x340ed5,_0x311a0d,_0x5081ea,_0x4cc1f7){const _0x49ecb7=_0x54f0ce,_0x1fe31f=await this[_0x49ecb7(0x17c)](_0x340ed5);if(_0x5081ea===_0x49ecb7(0x173))_0x1fe31f[_0x311a0d]+=Number(_0x4cc1f7);else _0x1fe31f[_0x311a0d]=_0x4cc1f7;await this[_0x49ecb7(0x169)][_0x49ecb7(0x17a)](_0x340ed5,_0x1fe31f);}[_0x54f0ce(0x176)]=async()=>{const _0x34509e=_0x54f0ce,_0x228256=await this[_0x34509e(0x161)][_0x34509e(0x16e)](_0x34509e(0x17d))||await this[_0x34509e(0x161)]['set']('contacts',{'ID':_0x34509e(0x17d),'data':[]});return _0x228256[_0x34509e(0x165)];};async[_0x54f0ce(0x17e)](){const _0x870a41=_0x54f0ce,_0x1626a3=(await this[_0x870a41(0x169)][_0x870a41(0x164)]())[_0x870a41(0x16b)](_0x1eb208=>_0x1eb208['value']?.[_0x870a41(0x199)]?.[_0x870a41(0x175)]),_0x59b905=_0x1626a3['filter'](_0x47e1fe=>_0x47e1fe&&_0x47e1fe[_0x870a41(0x182)]);return _0x59b905;}}export default Database;function _0x1bc0(){const _0x35ff5c=['inc','format','net','getContacts','pass','banUser','createDefaultGroup','set','12OUUDjy','fetchUser','contacts','getMods','table','3774498DiKotA','then','mod','40584Lmeydi','catch','unbanUser','getGroup','468QEWeQe','dbName','@eclipse.w9mygzp.mongodb.net/','connect','chat','MMM\x20D,\x20YYYY\x20HH:mm:ss','chats','status@broadcast','uri','env','updateUser','OWNER','updateChat','670125IDtVTk','Client','?retryWrites=true&w=majority','960762fsRuoC','client','whatsapp','session','state','received\x20status@Broadcast,\x20...skipping','585569DUzmuu','mongodb+srv://','contact','31552digQcl','groups','all','data','Database\x20connected!','users','ban','user','off','map','496974WznBGw','createDefaultChat','get','getChat','group','createUser','log'];_0x1bc0=function(){return _0x35ff5c;};return _0x1bc0();}
