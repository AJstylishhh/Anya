const _0x12a5f3=_0x1520;(function(_0x2a462a,_0x4c465d){const _0x5d1f8b=_0x1520,_0x1b8f12=_0x2a462a();while(!![]){try{const _0xbe1a11=-parseInt(_0x5d1f8b(0xbc))/0x1+-parseInt(_0x5d1f8b(0xca))/0x2+parseInt(_0x5d1f8b(0xd5))/0x3+-parseInt(_0x5d1f8b(0xac))/0x4+parseInt(_0x5d1f8b(0xb1))/0x5*(parseInt(_0x5d1f8b(0xa7))/0x6)+parseInt(_0x5d1f8b(0xc2))/0x7+parseInt(_0x5d1f8b(0xcf))/0x8;if(_0xbe1a11===_0x4c465d)break;else _0x1b8f12['push'](_0x1b8f12['shift']());}catch(_0x621207){_0x1b8f12['push'](_0x1b8f12['shift']());}}}(_0xd388,0xe7f18));import{QuickDB}from'quick.db';function _0xd388(){const _0x2ec083=['7884324wRkFhR','group','session','OWNER','users','Database\x20connected!','chats','client','227018sylyam','value','all','?retryWrites=true&w=majority','inc','10721488XcWsRy','createDefaultGroup','createDefaultChat','updateGroup','@eclipse.w9mygzp.mongodb.net/','format','1034970acaNJS','mongodb+srv://','connect','unbanUser','then','chat','contact','updateUser','Eclipse','getContacts','log','5939268bYvBNi','dbName','Etc/GMT','pass','MMM\x20D,\x20YYYY\x20HH:mm:ss','4024792FURTyw','whatsapp','Client','set','MONGO','5hhgwGG','fetchUser','createUser','updateChat','table','get','ban','mod','filter','uri','env','1731639CWMvjT','user','getChat','contacts','banUser','getGroup'];_0xd388=function(){return _0x2ec083;};return _0xd388();}import{MongoDriver}from'quickmongo';import _0xa39bf1 from'moment-timezone';function _0x1520(_0x53ff79,_0x1e2969){const _0xd3881e=_0xd388();return _0x1520=function(_0x152081,_0x3159b9){_0x152081=_0x152081-0xa7;let _0x3ac5f7=_0xd3881e[_0x152081];return _0x3ac5f7;},_0x1520(_0x53ff79,_0x1e2969);}class Database{constructor(_0x1c91e7){const _0xdf6d7c=_0x1520;this['Client']=_0x1c91e7,this[_0xdf6d7c(0xa8)]=process[_0xdf6d7c(0xbb)][_0xdf6d7c(0xc5)],this[_0xdf6d7c(0xaa)]=_0xdf6d7c(0xdd),this[_0xdf6d7c(0xba)]=process[_0xdf6d7c(0xbb)][_0xdf6d7c(0xb0)]||_0xdf6d7c(0xd6)+this['pass']+':'+this['pass']+_0xdf6d7c(0xd3)+this['dbName']+_0xdf6d7c(0xcd),this['client']=new MongoDriver(this[_0xdf6d7c(0xba)]);}[_0x12a5f3(0xd7)]=()=>{return new Promise(_0x762241=>{const _0x20228b=_0x1520;this[_0x20228b(0xc9)][_0x20228b(0xd7)]()[_0x20228b(0xd9)](()=>{const _0x3ff58f=_0x20228b;this[_0x3ff58f(0xae)][_0x3ff58f(0xdf)](_0x3ff58f(0xc7)),this['db']=new QuickDB({'driver':this[_0x3ff58f(0xc9)]}),this['user']=this['db'][_0x3ff58f(0xb5)](_0x3ff58f(0xc6)),this[_0x3ff58f(0xc3)]=this['db']['table']('groups'),this[_0x3ff58f(0xda)]=this['db']['table'](_0x3ff58f(0xc8)),this[_0x3ff58f(0xdb)]=this['db'][_0x3ff58f(0xb5)](_0x3ff58f(0xbf)),this[_0x3ff58f(0xc4)]=this['db'][_0x3ff58f(0xb5)]('sessions'),_0x762241({'connected':!![]});})['catch'](_0x1fc305=>{console['log'](_0x1fc305),_0x762241({'connected':![]});});});};async[_0x12a5f3(0xb2)](_0x13963f){const _0x1e471a=_0x12a5f3;let _0x44e0f2=await this[_0x1e471a(0xbd)][_0x1e471a(0xb6)](_0x13963f)||await this['createUser'](_0x13963f);return _0x44e0f2;}async[_0x12a5f3(0xb3)](_0x3d36bb){const _0x1fd58a=_0x12a5f3,_0x3a9627={'id':_0x3d36bb,'name':'','mod':![],'statusview':![],'rejectcall':![],'afk':{'custom':![],'reason':'','time':new Date()},'ban':{'banned':![],'bannedBy':'','bannedIn':'','time':'','reason':''}};return await this[_0x1fd58a(0xbd)][_0x1fd58a(0xaf)](_0x3d36bb,_0x3a9627),_0x3a9627;}async[_0x12a5f3(0xc1)](_0x4777af){const _0xb1dc5f=_0x12a5f3;let _0x130771=await this['group']['get'](_0x4777af)||this[_0xb1dc5f(0xd0)](_0x4777af);return _0x130771;}async[_0x12a5f3(0xd0)](_0x2e49a7){const _0x41dca1=_0x12a5f3;if(_0x2e49a7==='status@broadcast')return this[_0x41dca1(0xae)]['log']('received\x20status@Broadcast,\x20...skipping',!![]);const _0x3ef631={'id':_0x2e49a7,'name':'','chatbot':![],'antilink':![],'antibot':![],'antiadmin':![],'antidelete':![],'welcome':![],'goodbye':![],'Greetings':{'custom':![],'message':''},'Farewells':{'custom':![],'message':''},'bot':'on'};return await this[_0x41dca1(0xc3)][_0x41dca1(0xaf)](_0x2e49a7,_0x3ef631),_0x3ef631;}async[_0x12a5f3(0xd2)](_0x435be8,_0x4c8008,_0x4960d){const _0x271726=_0x12a5f3,_0x121c07=await this[_0x271726(0xc1)](_0x435be8);_0x121c07[_0x4c8008]=_0x4960d,await this[_0x271726(0xc3)][_0x271726(0xaf)](_0x435be8,_0x121c07);}async[_0x12a5f3(0xbe)](_0x39b24e){const _0x441fe9=_0x12a5f3;let _0x5cf00c=await this['chat']['get'](_0x39b24e)||this[_0x441fe9(0xd1)](_0x39b24e);return _0x5cf00c;}async[_0x12a5f3(0xd1)](_0x1634f8){const _0x3b6f4c=_0x12a5f3,_0x430c06={'chat':_0x1634f8,'state':![]};return await this[_0x3b6f4c(0xda)]['set'](_0x1634f8,_0x430c06),_0x430c06;}async[_0x12a5f3(0xb4)](_0x2c98e8,_0x585e52){const _0x56e6cd=_0x12a5f3,_0x40a1bc=await this[_0x56e6cd(0xbe)](_0x2c98e8);_0x40a1bc['state']=_0x585e52,await this[_0x56e6cd(0xda)][_0x56e6cd(0xaf)](_0x2c98e8,_0x40a1bc);}async[_0x12a5f3(0xc0)](_0x279093,_0x3695e3,_0x29f018,_0xc90b16){const _0x5787a9=_0x12a5f3,_0x5ed81a=await this[_0x5787a9(0xb2)](_0x279093),_0x4459d7=_0xa39bf1['tz'](_0x5787a9(0xa9))[_0x5787a9(0xd4)](_0x5787a9(0xab));_0x5ed81a['ban']={'banned':!![],'bannedBy':_0x3695e3,'bannedIn':_0x29f018,'time':_0x4459d7,'reason':_0xc90b16},await this[_0x5787a9(0xbd)][_0x5787a9(0xaf)](_0x279093,_0x5ed81a);}async[_0x12a5f3(0xd8)](_0x34b132){const _0x383246=_0x12a5f3,_0x26f1c1=await this[_0x383246(0xb2)](_0x34b132);_0x26f1c1[_0x383246(0xb7)]={'banned':![],'bannedBy':'','bannedIn':'','time':'','reason':''},await this[_0x383246(0xbd)][_0x383246(0xaf)](_0x34b132,_0x26f1c1);}async[_0x12a5f3(0xdc)](_0x2f1bbe,_0x19af6b,_0x4570bc,_0x2d71c3){const _0x4aff16=_0x12a5f3,_0x160c9c=await this['fetchUser'](_0x2f1bbe);if(_0x4570bc===_0x4aff16(0xce))_0x160c9c[_0x19af6b]+=Number(_0x2d71c3);else _0x160c9c[_0x19af6b]=_0x2d71c3;await this['user'][_0x4aff16(0xaf)](_0x2f1bbe,_0x160c9c);}[_0x12a5f3(0xde)]=async()=>{const _0x42de9e=_0x12a5f3,_0x1b2b96=await this[_0x42de9e(0xdb)][_0x42de9e(0xb6)](_0x42de9e(0xbf))||await this[_0x42de9e(0xdb)][_0x42de9e(0xaf)](_0x42de9e(0xbf),{'ID':_0x42de9e(0xbf),'data':[]});return _0x1b2b96['data'];};async['getMods'](){const _0x40edc6=_0x12a5f3,_0xcdd91d=(await this[_0x40edc6(0xbd)][_0x40edc6(0xcc)]())['map'](_0x519de1=>_0x519de1[_0x40edc6(0xcb)]?.[_0x40edc6(0xad)]?.['net']),_0x5d9e8b=_0xcdd91d[_0x40edc6(0xb9)](_0x2dba70=>_0x2dba70&&_0x2dba70[_0x40edc6(0xb8)]);return _0x5d9e8b;}}export default Database;
