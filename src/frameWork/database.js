const _0x509b55=_0x48fa;(function(_0x43f076,_0x13e893){const _0x35c5d5=_0x48fa,_0x5a47e3=_0x43f076();while(!![]){try{const _0x1bf4ef=-parseInt(_0x35c5d5(0x152))/0x1+-parseInt(_0x35c5d5(0x14e))/0x2*(parseInt(_0x35c5d5(0x13f))/0x3)+parseInt(_0x35c5d5(0x153))/0x4*(-parseInt(_0x35c5d5(0x150))/0x5)+-parseInt(_0x35c5d5(0x147))/0x6*(parseInt(_0x35c5d5(0x136))/0x7)+-parseInt(_0x35c5d5(0x14c))/0x8*(parseInt(_0x35c5d5(0x141))/0x9)+parseInt(_0x35c5d5(0x146))/0xa+parseInt(_0x35c5d5(0x12f))/0xb*(parseInt(_0x35c5d5(0x142))/0xc);if(_0x1bf4ef===_0x13e893)break;else _0x5a47e3['push'](_0x5a47e3['shift']());}catch(_0x1b92a7){_0x5a47e3['push'](_0x5a47e3['shift']());}}}(_0x16e6,0x1cca7));import{QuickDB}from'quick.db';function _0x48fa(_0x3c3cc2,_0x4d3b70){const _0x16e662=_0x16e6();return _0x48fa=function(_0x48fa29,_0x5b5755){_0x48fa29=_0x48fa29-0x116;let _0x216a75=_0x16e662[_0x48fa29];return _0x216a75;},_0x48fa(_0x3c3cc2,_0x4d3b70);}function _0x16e6(){const _0x496a61=['set','value','getMods','updateUser','uri','whatsapp','user','banUser','endsWith','getGroup','createDefaultChat','group','updateChat','received\x20status@Broadcast,\x20...skipping','dbName','map','createUser','unbanUser','Eclipse','getContacts','contacts','format','3927epOZmw','all','then','updateGroup','net','chat','contact','637IBZvEH','OWNER','@eclipse.w9mygzp.mongodb.net/','inc','getChat','client','catch','fetchUser','MONGO','3gYjhdy','?retryWrites=true&w=majority','3330hkUzLm','26436hDomgU','Database\x20connected!','mod','table','176420yoJXrF','15378enphhE','env','get','mongodb+srv://','filter','3536jWIjly','pass','294706goFaUY','Etc/GMT','5wyFOoU','groups','122203euEBta','79428uTcOMN','createDefaultGroup','users','log','ban'];_0x16e6=function(){return _0x496a61;};return _0x16e6();}import{MongoDriver}from'quickmongo';import _0x449b22 from'moment-timezone';class Database{constructor(_0x246927){const _0x17914c=_0x48fa;this['Client']=_0x246927,this[_0x17914c(0x127)]=process[_0x17914c(0x148)][_0x17914c(0x137)],this['pass']=_0x17914c(0x12b),this[_0x17914c(0x11d)]=process[_0x17914c(0x148)][_0x17914c(0x13e)]||_0x17914c(0x14a)+this[_0x17914c(0x14d)]+':'+this[_0x17914c(0x14d)]+_0x17914c(0x138)+this[_0x17914c(0x127)]+_0x17914c(0x140),this[_0x17914c(0x13b)]=new MongoDriver(this['uri']);}['connect']=()=>{return new Promise(_0x23cbdc=>{const _0x9d70db=_0x48fa;this['client']['connect']()[_0x9d70db(0x131)](()=>{const _0x2ab537=_0x9d70db;this['Client'][_0x2ab537(0x117)](_0x2ab537(0x143)),this['db']=new QuickDB({'driver':this[_0x2ab537(0x13b)]}),this[_0x2ab537(0x11f)]=this['db'][_0x2ab537(0x145)](_0x2ab537(0x116)),this[_0x2ab537(0x124)]=this['db']['table'](_0x2ab537(0x151)),this['chat']=this['db'][_0x2ab537(0x145)]('chats'),this[_0x2ab537(0x135)]=this['db'][_0x2ab537(0x145)](_0x2ab537(0x12d)),this['session']=this['db'][_0x2ab537(0x145)]('sessions'),_0x23cbdc({'connected':!![]});})[_0x9d70db(0x13c)](_0xa52c00=>{const _0x1c14cf=_0x9d70db;console[_0x1c14cf(0x117)](_0xa52c00),_0x23cbdc({'connected':![]});});});};async[_0x509b55(0x13d)](_0x5e2443){const _0x31e188=_0x509b55;let _0x3ad98f=await this[_0x31e188(0x11f)]['get'](_0x5e2443)||await this['createUser'](_0x5e2443);return _0x3ad98f;}async[_0x509b55(0x129)](_0x2f0ef0){const _0x597bb0=_0x509b55,_0x138a18={'id':_0x2f0ef0,'name':'','mod':![],'statusview':![],'rejectcall':![],'afk':{'custom':![],'reason':'','time':new Date()},'ban':{'banned':![],'bannedBy':'','bannedIn':'','time':'','reason':''}};return await this[_0x597bb0(0x11f)][_0x597bb0(0x119)](_0x2f0ef0,_0x138a18),_0x138a18;}async[_0x509b55(0x122)](_0x1774c4){const _0xf800b2=_0x509b55;if(!_0x1774c4[_0xf800b2(0x121)]('@g.us'))return![];let _0x5170cc=await this['group']['get'](_0x1774c4)||this[_0xf800b2(0x154)](_0x1774c4);return _0x5170cc;}async[_0x509b55(0x154)](_0x26af9a){const _0x35ebae=_0x509b55;if(_0x26af9a==='status@broadcast')return this['Client'][_0x35ebae(0x117)](_0x35ebae(0x126),!![]);const _0x9e774b={'id':_0x26af9a,'name':'','chatbot':![],'antilink':![],'antibot':![],'antiadmin':![],'antidelete':![],'welcome':![],'goodbye':![],'Greetings':{'custom':![],'message':''},'Farewells':{'custom':![],'message':''},'bot':'on'};return await this[_0x35ebae(0x124)][_0x35ebae(0x119)](_0x26af9a,_0x9e774b),_0x9e774b;}async[_0x509b55(0x132)](_0x56765c,_0x35f6f8,_0x159170){const _0x4aee27=_0x509b55,_0x8bc376=await this[_0x4aee27(0x122)](_0x56765c);_0x8bc376[_0x35f6f8]=_0x159170,await this[_0x4aee27(0x124)][_0x4aee27(0x119)](_0x56765c,_0x8bc376);}async['getChat'](_0x3daa8a){const _0x5cf63b=_0x509b55;let _0xc57a79=await this[_0x5cf63b(0x134)][_0x5cf63b(0x149)](_0x3daa8a)||this[_0x5cf63b(0x123)](_0x3daa8a);return _0xc57a79;}async['createDefaultChat'](_0x293f51){const _0x444ac6=_0x509b55,_0x318809={'chat':_0x293f51,'state':![]};return await this[_0x444ac6(0x134)][_0x444ac6(0x119)](_0x293f51,_0x318809),_0x318809;}async[_0x509b55(0x125)](_0x275b23,_0x4c4f2a){const _0x2237c5=_0x509b55,_0x32b16d=await this[_0x2237c5(0x13a)](_0x275b23);_0x32b16d['state']=_0x4c4f2a,await this[_0x2237c5(0x134)][_0x2237c5(0x119)](_0x275b23,_0x32b16d);}async[_0x509b55(0x120)](_0x3522df,_0x238fc4,_0x328a2,_0x1a2e28){const _0x4e1f68=_0x509b55,_0x76ca94=await this[_0x4e1f68(0x13d)](_0x3522df),_0x43b9fd=_0x449b22['tz'](_0x4e1f68(0x14f))[_0x4e1f68(0x12e)]('MMM\x20D,\x20YYYY\x20HH:mm:ss');_0x76ca94[_0x4e1f68(0x118)]={'banned':!![],'bannedBy':_0x238fc4,'bannedIn':_0x328a2,'time':_0x43b9fd,'reason':_0x1a2e28},await this['user'][_0x4e1f68(0x119)](_0x3522df,_0x76ca94);}async[_0x509b55(0x12a)](_0x1386c6){const _0x5f4ea6=_0x509b55,_0x4f5426=await this[_0x5f4ea6(0x13d)](_0x1386c6);_0x4f5426[_0x5f4ea6(0x118)]={'banned':![],'bannedBy':'','bannedIn':'','time':'','reason':''},await this[_0x5f4ea6(0x11f)][_0x5f4ea6(0x119)](_0x1386c6,_0x4f5426);}async[_0x509b55(0x11c)](_0x503201,_0x3de86a,_0x1a2d6f,_0x635277){const _0x485107=_0x509b55,_0x2d39b1=await this['fetchUser'](_0x503201);if(_0x1a2d6f===_0x485107(0x139))_0x2d39b1[_0x3de86a]+=Number(_0x635277);else _0x2d39b1[_0x3de86a]=_0x635277;await this[_0x485107(0x11f)][_0x485107(0x119)](_0x503201,_0x2d39b1);}[_0x509b55(0x12c)]=async()=>{const _0x65418d=_0x509b55,_0xcae830=await this[_0x65418d(0x135)][_0x65418d(0x149)](_0x65418d(0x12d))||await this['contact'][_0x65418d(0x119)](_0x65418d(0x12d),{'ID':_0x65418d(0x12d),'data':[]});return _0xcae830['data'];};async[_0x509b55(0x11b)](){const _0x13bb3a=_0x509b55,_0x5661dc=(await this['user'][_0x13bb3a(0x130)]())[_0x13bb3a(0x128)](_0x2cca79=>_0x2cca79[_0x13bb3a(0x11a)]?.[_0x13bb3a(0x11e)]?.[_0x13bb3a(0x133)]),_0x35cf33=_0x5661dc[_0x13bb3a(0x14b)](_0x1c05bf=>_0x1c05bf&&_0x1c05bf[_0x13bb3a(0x144)]);return _0x35cf33;}}export default Database;
